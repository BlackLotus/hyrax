<%# only display the q parameter if the controller is not the dashboard.  If they are in the dashboard controller, then the search is of the dashboard. %>
    <%= form_tag catalog_index_path, :method => :get, :id => "search-form-header", :class => "col-xs-12", :role => "search" do %>
      <%= render_hash_as_hidden_fields(params_for_search().except(:q, :search_field, :qt, :page, :utf8, :owner)) %>
      <%= hidden_field_tag 'owner', params[:owner] %>

      <div class="row">
        <div class="col-lg-10">
          <div class="input-group">
            <% q = params[:controller] == 'dashboard' ? nil : params[:q] %>
            <%= text_field_tag :q, q, :class => "q form-control", :id => "search-field-header", :placeholder => t('sufia.search.form.q.placeholder') %>
            <%# if this label goes before the search field, it'll mess up the rounded corners %>
            <label class="sr-only" for="search-field-header"><%= t('sufia.search.form.q.label') %></label>

            <div class="input-group-btn">
              <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"><span data-search-element="label"><%= t('sufia.search.form.option.all.label_long') %></span> <span class="caret"></span></button>
              <ul class="dropdown-menu pull-right">
                <li><a href="#" data-search-option="all" data-search-label="<%= t('sufia.search.form.option.all.label_short') %>"><%= t('sufia.search.form.option.all.label_long') %></a></li>
                <li><a href="#" data-search-option="mine" data-search-label="<%= t('sufia.search.form.option.mine.label_short') %>"><%= t('sufia.search.form.option.mine.label_long') %></a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="col-lg-2">
          <button type="submit" class="btn btn-primary" id="search-submit-header">
            <i class="glyphicon glyphicon-search"></i> Go
          </button>
        </div>
      </div>
    <% end %>

  
